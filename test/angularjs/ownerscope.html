<!doctype html>
<html ng-app="myApp">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script src="../js/angular-1.2.2/angular.min.js" type="text/javascript"></script>
</head>
<body>
    outerscope:<input type="text" ng-model="outerscope" />
    <div>
        <xingoo></xingoo>
        <xingoo></xingoo>
        <xingoo></xingoo>
        <div xingoo></div>
    </div>

    <script type="text/javascript">
        var myAppModule = angular.module("myApp", []);

        myAppModule.directive("xingoo", function () {
            return {
                restrict: 'AE',
                template: '<div><input type="text" ng-model="username"/>{{username}}</div><br>',
                replace: true,
                scope: true || {}//独立作用域
            }
        });
    </script>
</body>
</html>